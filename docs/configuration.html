
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Configuration &#8212; pyvcontrold-net 2.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="vcontrold package" href="vcontrold.html" />
    <link rel="prev" title="Usage" href="usage.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="vcontrold.html" title="vcontrold package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyvcontrold-net 2.0.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Configuration</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="configuration">
<h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<p>The library uses a configuration file, <code class="docutils literal notranslate"><span class="pre">vcontrold_config.yml</span></code>, in YAML format, which contains all known commands and defines several parameters for each command. The initial configuration will be created automatically within your project root (based on <code class="docutils literal notranslate"><span class="pre">__file__</span></code> from which <code class="docutils literal notranslate"><span class="pre">__main__</span></code> is called). After the creation you can modify the configuration file as you like.</p>
<section id="vcontrold-config-yml">
<h2><code class="docutils literal notranslate"><span class="pre">vcontrold_config.yml</span></code><a class="headerlink" href="#vcontrold-config-yml" title="Permalink to this headline">¶</a></h2>
<section id="vcontrold-commands">
<h3>vcontrold_commands<a class="headerlink" href="#vcontrold-commands" title="Permalink to this headline">¶</a></h3>
<p>As said above, the file is created automatically when starting for first time, or with other word, if the file doesn’t exist. If, at any point, you messed up with the configuration file, just delete it and it will be re-created at the next run.</p>
<p>Following is the structure of the file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">vcontrold_commands</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">get</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">getBetriebArtM1</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Betriebsart M1</span><span class="w"></span>
<span class="w">      </span><span class="nt">devices</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2094</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">operation-mode</span><span class="w"></span>
<span class="w">      </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enabled</span><span class="w"></span>
<span class="w">      </span><span class="nt">unit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">text</span><span class="w"></span>
<span class="w">    </span><span class="nt">getBrennerStatus</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Ermittle den Brennerstatus</span><span class="w"></span>
<span class="w">      </span><span class="nt">devices</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2094</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">burner</span><span class="w"></span>
<span class="w">      </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enabled</span><span class="w"></span>
<span class="w">      </span><span class="nt">unit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">switch</span><span class="w"></span>
<span class="w">    </span><span class="nt">getSystemTime</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Ermittle Systemzeit</span><span class="w"></span>
<span class="w">      </span><span class="nt">devices</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2094</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">system</span><span class="w"></span>
<span class="w">      </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enabled</span><span class="w"></span>
<span class="w">      </span><span class="nt">unit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">time</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">...</span><span class="w"></span>
<span class="w">  </span><span class="nt">set</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">setBetriebArtM1</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Setze Betriebsart M1</span><span class="w"></span>
<span class="w">      </span><span class="nt">devices</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2094</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>
<span class="w">      </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enabled</span><span class="w"></span>
<span class="w">      </span><span class="nt">unit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">none</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">...</span><span class="w"></span>
</pre></div>
</div>
<p>The file basically consists of a single <code class="docutils literal notranslate"><span class="pre">dict</span></code>, <code class="docutils literal notranslate"><span class="pre">vcontrold_commands</span></code>, with two sub items <code class="docutils literal notranslate"><span class="pre">get</span></code> and <code class="docutils literal notranslate"><span class="pre">set</span></code>, both are of type <code class="docutils literal notranslate"><span class="pre">dict</span></code> as well. These are used to differ between <code class="docutils literal notranslate"><span class="pre">get</span></code>- and <code class="docutils literal notranslate"><span class="pre">set</span></code>-commands. <code class="docutils literal notranslate"><span class="pre">set</span></code>-commands are currently not yet implemented, although they already exist in the configuration.</p>
<p>Each item of <code class="docutils literal notranslate"><span class="pre">get</span></code> or <code class="docutils literal notranslate"><span class="pre">set</span></code> is a vcontrold command, i.e.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">getBrennerStatus</span><span class="p">:</span><span class="w">                   </span><span class="c1"># &lt;-- vcontrold command</span><span class="w"></span>
<span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Brennerstatus</span><span class="w">        </span><span class="c1"># &lt;-- description of the command (used in output)</span><span class="w"></span>
<span class="w">  </span><span class="nt">devices</span><span class="p">:</span><span class="w">                          </span><span class="c1"># &lt;-- list of device IDs, for which this command is valid</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2094</span><span class="w"></span>
<span class="w">  </span><span class="nt">groups</span><span class="p">:</span><span class="w">                           </span><span class="c1"># &lt;-- list of groups, to which this command is assigned</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">burner</span><span class="w"></span>
<span class="w">  </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enabled</span><span class="w">                   </span><span class="c1"># &lt;-- status of the command</span><span class="w"></span>
<span class="w">  </span><span class="nt">unit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">switch</span><span class="w">                      </span><span class="c1"># &lt;-- pre-defined unit for sanitization</span><span class="w"></span>
</pre></div>
</div>
<p>Each command contains the following parameters:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">description</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>A descriptive text for what the command returns. The description can be changed to anything else.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">devices</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Each heating system control unit has its own ID in vcontrold, documented at [Github openv Wiki](<a class="reference external" href="https://github.com/openv/openv/wiki/Ger%C3%A4te">https://github.com/openv/openv/wiki/Ger%C3%A4te</a>). Not each command is available for each heating system. Which commands are available need to be defined in vcontrold itself.&lt;br/&gt;This parameter controls, whether the command will be automatically executed for the detected system. If your device ID is not listed, just add it to the list or replace the existing ID with your own (I assume, that everyone has only one heating system :wink:).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">groups</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Each <cite>get</cite>-command is assigned to at least one group by default, to make filtering of read commands available. The list of groups may be expanded or changed as you like.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">status</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Used to skip single commands in general. If the <cite>status</cite> of a command is <cite>disabled</cite>, it will not be executed, independently from the <cite>group</cite> or anything else.&lt;br /&gt;Additionally, the <cite>status</cite> is used to automatically disable commands, which return unexpected outputs or not supported by the heating system. If, during <cite>read_all</cite> execution a command returns data, that doesn’t match the expecation, it will be automatically disabled in the config file.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unit</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><dl>
<dt>The unity of measurement. This is used internally to sanitize the returned values and change the format, if necessary. The valid unit types are pre-defined and may be advanced in futurer.&lt;br /&gt;Currently available units are</dt><dd><ul class="simple">
<li><p><cite>error</cite> - Error messages. Especially for commands <cite>getError[0-9]</cite>.</p></li>
<li><p><cite>hours</cite> - Cast to <cite>float</cite>, round to 2 decimal places and append _hours_.</p></li>
<li><p><cite>none</cite> - Unspecified. Return as is.</p></li>
<li><p><cite>number</cite> - Cast to <cite>float</cite> and round to 2 decimal places.</p></li>
<li><p><cite>percent</cite> - Cast to <cite>float</cite>, round to 2 decimal places and append _%_.</p></li>
<li><p><cite>power</cite> - Cast to <cite>float</cite>, round to 2 decimal places and append _W_.</p></li>
<li><p><cite>shift</cite> - Cast to <cite>float</cite>, round to 2 decimal places and append _shift_.</p></li>
<li><p><cite>slope</cite> - Cast to <cite>float</cite>, round to 2 decimal places and append _slope_.</p></li>
<li><p><cite>switch</cite> - Returns either _on_/_off_ (<cite>str</cite>) or _true_/_false_ (<cite>bool</cite>), based on instance propery <cite>switch_as_bool</cite>.</p></li>
<li><p><cite>temperature</cite> - Cast to <cite>float</cite>, round to 2 decimal places and append _°C_.</p></li>
<li><p><cite>text</cite> - Return as is.</p></li>
<li><p><cite>time</cite> - Parsed as <cite>datetime</cite> object and returned with format _%Y-%m-%d - %H:%M:%S_.</p></li>
<li><p><cite>timer</cite> - Parsed the timetable, returnfed from vcontrold to a <cite>list</cite> of <cite>dict</cite>, where each time entry attribute is returned as _index_, _time_on_ and _time_off_</p></li>
</ul>
<p>The parsing process may not be optimally implemented by now, because I didn’t have enough data for different systems. Changes may be necessary in future version, to reflect differences from the different heating control system models.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</section>
<section id="other-options">
<h3>Other options<a class="headerlink" href="#other-options" title="Permalink to this headline">¶</a></h3>
<p>Currently there are no other configuration options available. Probably some of the class properties may be available in the future.</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Documentation</a></h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="vcontrold.html">vcontrold package</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

  <h3><a href="index.html">Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Configuration</a><ul>
<li><a class="reference internal" href="#vcontrold-config-yml"><code class="docutils literal notranslate"><span class="pre">vcontrold_config.yml</span></code></a><ul>
<li><a class="reference internal" href="#vcontrold-commands">vcontrold_commands</a></li>
<li><a class="reference internal" href="#other-options">Other options</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="vcontrold.html" title="vcontrold package"
             >next</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyvcontrold-net 2.0.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Configuration</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, tsvsj
    </div>
  </body>
</html>